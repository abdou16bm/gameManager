
<%- include ("layouts/header.ejs") %>


<h2 class="mb-3">user list page admin</h2>                                <div class="d-flex flex-row-reverse">
                                    <a class="btn btn-sm btn-primary col-lg-2 p-2 m-2" href="/user/add">Nouveau</a>
                                </div>
<div class="album py-5 bg-light">
    <div class="container">

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 g-3">

            <% if (typeof (user) != "undefined" &&  user.length > 0 ) {
            for(let i = 0; i<user.length; i++) {
            %>
                <div class="col">
                    <div class="card shadow-sm">
                        <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="/img/default.png"/>

                        <div class="card-body">
                            <p class="card-text"><%= user[i].user_title%></p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a class="btn btn-sm btn-outline-primary" href="/user/<%= user[i].user_id%>/details">Voir</a>
                                    <a class="btn btn-sm btn-outline-success" href="/user/<%= user[i].user_id%>/edit">Modifier</a>
                                    <a class="btn btn-sm btn-outline-danger" href="/user/<%= user[i].user_id%>/delete">Supprimer</a>                                </div>
                                <small class="text-muted">...</small>
                            </div>
                        </div>
                    </div>
                </div>

            <% }
            }%>

        </div>
    </div>
</div><% if (typeof(info) != 'undefined' &&  info.count_page > 0) { %>
<nav aria-label="Page navigation">
    <ul class="pagination">
        <% if (info.current_page == 1) { %>
            <li class="page-item disabled"><a class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
        <% } else { %>
            <li class="page-item"><a class="page-link" aria-label="Previous" href="/user/admin/page/<%=info.current_page-1%>"><span aria-hidden="true">&laquo;</span></a></li>
        <% } %>
        <% for (var i = (Number(info.current_page) > 5 ? Number(info.current_page) - 4 : 1);
                i <= (Number(info.current_page) + 4) && i <= info.count_page; i++) { %>
            <% if (i == info.current_page) { %>
               <li class="page-item disabled"><a class="page-link" href="/user/admin/page/<%= i %>"><%= i %></a></li>
                <% } else { %>
                        <li class="page-item"><a class="page-link" href="/user/admin/page/<%= i %>"><%= i %></a></li>
                <% } %>
            <% } %>

            <% if (info.current_page == info.count_page) { %>
            <li class="page-item disabled"><a class="page-link" href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>
            <% } else { %>
            <li class="page-item"><a class="page-link" aria-label="Next" href="/user/admin/page/<%=info.current_page+1%>"><span aria-hidden="true">&raquo;</span></a></li>
            <% } %>
    </ul>
</nav>
<% } %>
<%- include ("layouts/footer.ejs") %>


