
<%- include ("layouts/header.ejs") %>


<h2 class="mb-3">user list page</h2>                                <div class="d-flex flex-row-reverse">
                                    <a class="btn btn-sm btn-primary col-lg-2 p-2 m-2" href="/user/add">Nouveau</a>
                                </div>
<div class="row">
    <% if (typeof (user) != "undefined" &&  user.length > 0 ) {
    for(let i = 0; i<user.length; i++) {
    %>
        <div class="col-lg-4 text-center mb-3"> 
            <img class="bd-placeholder-img rounded-circle" width="140" height="140" src="/img/default.png"/>
            <h3 class="fw-normal"><%= user[i].user_title%></h3>
            <p class="text-truncate"><%= user[i].user_content%></p>
            <p><a class="btn btn-secondary" href="/user/<%= user[i].user_id%>/details">Details </a></p>
        </div>
    <% }
    }%>
</div><% if (typeof(info) != 'undefined' &&  info.count_page > 0) { %>
<nav aria-label="Page navigation">
    <ul class="pagination">
        <% if (info.current_page == 1) { %>
            <li class="page-item disabled"><a class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
        <% } else { %>
            <li class="page-item"><a class="page-link" aria-label="Previous" href="/user/page/<%=info.current_page-1%>"><span aria-hidden="true">&laquo;</span></a></li>
        <% } %>
        <% for (var i = (Number(info.current_page) > 5 ? Number(info.current_page) - 4 : 1);
                i <= (Number(info.current_page) + 4) && i <= info.count_page; i++) { %>
            <% if (i == info.current_page) { %>
               <li class="page-item disabled"><a class="page-link" href="/user/page/<%= i %>"><%= i %></a></li>
                <% } else { %>
                        <li class="page-item"><a class="page-link" href="/user/page/<%= i %>"><%= i %></a></li>
                <% } %>
            <% } %>

            <% if (info.current_page == info.count_page) { %>
            <li class="page-item disabled"><a class="page-link" href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>
            <% } else { %>
            <li class="page-item"><a class="page-link" aria-label="Next" href="/user/page/<%=info.current_page+1%>"><span aria-hidden="true">&raquo;</span></a></li>
            <% } %>
    </ul>
</nav>
<% } %>
<%- include ("layouts/footer.ejs") %>


